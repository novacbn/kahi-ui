.accordion {
}

.accordion > label {
}

.accordion > section {
    display: block;

    overflow: hidden;
}

.accordion > [role="presentation"] {
    display: none;

    &:not(:checked) + label + section {
        & > .transition {
            --animation: var(--animation-exit);

            /** HACK: Well `display` isn't transitionable, so we have to use `max-height` so as a substitute */
            max-height: 0;
            transition: max-height 0s var(--animation-function) var(--animation-duration);
        }

        & > :not(.transition) {
            display: none;
        }
    }

    &:checked + label + section {
        & > .transition {
            --animation: var(--animation-enter);

            max-height: 9999999px;
            transition: max-height 0s var(--animation-function);
        }
    }
}
