.picker {
    display: grid;
    grid-auto-rows: 1fr;
    grid-auto-flow: row;

    gap: var(--spacing-local-small);

    font-size: var(--document-font-size);
}

.picker button {
    all: unset;

    display: flex;
    align-items: center;
    justify-content: center;

    padding: var(--spacing-local-tiny) var(--spacing-local-small);

    border: 2px solid transparent;
    border-radius: var(--radius-medium);
    background: transparent;

    font-weight: bold;

    cursor: pointer;
    user-select: none;

    transform: unset !important;

    transition: background var(--animation-visual-duration) var(--animation-visual-function),
        border-color var(--animation-visual-duration) var(--animation-visual-function),
        color var(--animation-visual-duration) var(--animation-visual-function);

    &:disabled {
        cursor: not-allowed;
        opacity: 0.4;
    }

    &:not([data-palette]) {
        --palette-background-bold: inherit;
        --palette-background-normal: inherit;
        --palette-foreground-normal: inherit;
    }

    &:not([data-variation]) {
        &:not([data-palette]) {
            color: rgb(var(--palette-foreground-normal));

            &:not(:disabled) {
                &:is(:focus, :hover) {
                    background: rgba(var(--palette-foreground-normal), 0.2);
                }

                &:is(:active, [aria-pressed="true"]) {
                    background: rgba(var(--palette-foreground-normal), 0.5);
                    color: rgb(var(--palette-background-bold));
                }
            }
        }

        &[data-palette] {
            color: rgb(var(--palette-background-bold));

            &:not(:disabled) {
                &:is(:focus, :hover) {
                    background: rgba(var(--palette-background-bold), 0.2);
                }

                &:is(:active, [aria-current], [aria-pressed="true"]) {
                    background: rgba(var(--palette-background-bold), 0.5);
                    color: rgb(var(--palette-foreground-normal));
                }
            }
        }
    }

    &[data-variation="outline"] {
        &:not([data-palette]) {
            border-color: rgb(var(--palette-foreground-normal));
            color: rgb(var(--palette-foreground-normal));

            &:not(:disabled) {
                &:is(:focus, :hover) {
                    background: rgba(var(--palette-foreground-normal), 0.2);
                    border-color: rgba(var(--palette-foreground-normal), 0.5);
                }

                &:is(:active, [aria-pressed="true"]) {
                    background: rgba(var(--palette-foreground-normal), 0.5);
                    border-color: transparent;
                    color: rgb(var(--palette-background-bold));
                }
            }
        }

        &[data-palette] {
            border-color: rgb(var(--palette-background-bold));
            color: rgb(var(--palette-background-bold));

            &:not(:disabled) {
                &:is(:focus, :hover) {
                    background: rgba(var(--palette-background-bold), 0.2);
                    border-color: rgba(var(--palette-background-bold), 0.5);
                }

                &:is(:active, [aria-current], [aria-pressed="true"]) {
                    background: rgba(var(--palette-background-bold), 0.5);
                    border-color: transparent;
                    color: rgb(var(--palette-foreground-normal));
                }
            }
        }
    }
}

.picker header {
    display: flex;
    align-items: center;
    justify-content: center;

    font-size: 80%;
    font-weight: bold;

    letter-spacing: 0.1em;

    opacity: 0.8;
}

.picker section {
    gap: var(--spacing-local-small);

    &:not([data-variation]) {
        display: grid;
        grid-auto-columns: 1fr;
        grid-auto-flow: column;
    }

    &[data-variation="flex"] {
        display: flex;
    }
}
