.accordion {
}

.accordion > label {
}

.accordion > section {
    display: block;

    overflow: hidden;
}

.accordion > [role="presentation"] {
    display: none;

    &:not(:checked) + label + section {
        max-height: 0;
        /** HACK: This `transition` rule doesn't play well with `<Transition duration>` configured */
        transition: max-height 0s var(--animation-reveal-function) var(--animation-reveal-duration);

        & > .transition {
            --animation: var(--animation-exit);
        }
    }

    &:checked + label + section {
        /** HACK: Well `display` isn't transitionable, so we have to use `max-height` so as a substitute */
        max-height: 9999999px;
        transition: max-height 0s var(--animation-reveal-function);

        & > .transition {
            --animation: var(--animation-enter);
        }
    }
}
