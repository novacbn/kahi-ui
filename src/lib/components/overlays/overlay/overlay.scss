.overlay {
    display: block;
    position: fixed;

    inset: 0;

    z-index: 2;
}

.overlay > .backdrop {
    pointer-events: auto;
}

.overlay > section {
    --orientation-direction: column;

    --orientation-align: var(--flex-alignment-x);
    --orientation-justify: var(--flex-alignment-y);

    --flex-alignment-x: center;
    --flex-alignment-y: center;

    --spacing-x: 0;
    --spacing-y: 0;

    display: flex;
    position: absolute;

    flex-direction: var(--orientation-direction);
    gap: var(--spacing-y) var(--spacing-x);

    align-items: var(--orientation-align);
    justify-content: var(--orientation-justify);

    inset: 0;

    & > * {
        pointer-events: auto;
    }
}

.overlay,
.overlay > section {
    pointer-events: none;
}

input[type="checkbox"][role="presentation"] {
    &:not(:checked) + .overlay {
        & > :is(.backdrop, .transition) {
            /**
             * HACK: We're abusing `Backdrop` / `Transition` Component's internal state CSS vars to
             * make `Overlay` transitions SSR-able
             */

            --animation-visible: 0;
        }

        & > .backdrop,
        & > section > * {
            pointer-events: none;
        }
    }
}
