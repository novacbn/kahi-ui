@use "../abstracts/transitions";
@use "../abstracts/variables";

@mixin background($namespace, $face, $shade, $palette: null) {
    @include transitions-background();

    @if $palette {
        background-color: hsla(
            var(--palettes-#{$palette}-#{$face}-#{$shade}),
            #{variables.format-var("#{$namespace}.background.opacity")}
        );
    } @else {
        background-color: hsla(
            var(--palette-#{$face}-#{$shade}),
            #{variables.format-var("#{$namespace}.background.opacity")}
        );
    }
}

@mixin transitions-background() {
    @include transitions.push(background-color, "visual");
}

@mixin opacity($namespace) {
    @include transitions-opacity();

    opacity: #{variables.format-var("#{$namespace}.opacity")};
}

@mixin transitions-opacity() {
    @include transitions.push(opacity, "visual");
}

@mixin text($namespace, $face, $shade, $palette: null) {
    @include transitions-text();

    @if $palette {
        color: hsla(
            var(--palettes-#{$palette}-#{$face}-#{$shade}),
            #{variables.format-var("#{$namespace}.color.opacity")}
        );
    } @else {
        color: hsla(
            var(--palette-#{$face}-#{$shade}),
            #{variables.format-var("#{$namespace}.color.opacity")}
        );
    }
}

@mixin transitions-text() {
    @include transitions.push(color, "visual");
}
